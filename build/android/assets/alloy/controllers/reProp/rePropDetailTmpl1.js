function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="reProp/rePropDetailTmpl1",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,t={};e.__views.rePropDeatilTmpl1Main=Ti.UI.createScrollView({layout:"vertical",showVerticalScrollIndicator:!1,showHorizontalScrollIndicator:!1,scrollType:"vertical",height:Ti.UI.FILL,width:Ti.UI.FILL,contentWidth:"100%",id:"rePropDeatilTmpl1Main"}),e.__views.rePropDeatilTmpl1Main&&e.addTopLevelView(e.__views.rePropDeatilTmpl1Main),e.__views.rePropDtlScrollImgView=Ti.UI.createScrollView({showVerticalScrollIndicator:!1,showHorizontalScrollIndicator:!1,top:20,left:20,right:20,borderColor:"#CACACA",borderWidth:"1",borderRadius:5,backgroundGradient:{type:"linear",colors:[{color:"#EEEEEE",offset:0},{color:"#EEEEEE",offset:.45},{color:"#EEEEEE",offset:1}]},scrollType:"horizontal",horizontalWrap:!1,width:Ti.UI.FILL,height:"45%",contentWidth:"auto",contentHeight:"45%",layout:"horizontal",id:"rePropDtlScrollImgView"}),e.__views.rePropDeatilTmpl1Main.add(e.__views.rePropDtlScrollImgView),e.__views.rePropDtlAddrView=Ti.UI.createView({left:"10dp",top:"20dp",height:Ti.UI.SIZE,borderRadius:5,layout:"vertical",backgroundGradient:{type:"linear",colors:[{color:"#23aa90",offset:0},{color:"#21a088",offset:.45},{color:"#1b846f",offset:1}]},width:Ti.UI.SIZE,id:"rePropDtlAddrView"}),e.__views.rePropDeatilTmpl1Main.add(e.__views.rePropDtlAddrView),e.__views.rePropDtlAddr=Ti.UI.createLabel({color:"#efefef",left:"10dp",top:"5dp",bottom:10,font:{fontSize:20,fontWeight:"bold"},text:"上環德輔道中262號一洲大廈",id:"rePropDtlAddr"}),e.__views.rePropDtlAddrView.add(e.__views.rePropDtlAddr),e.__views.rePropDtlInfoView=Ti.UI.createView({left:20,top:15,borderRadius:5,borderColor:"#CACACA",backgroundColor:"white",right:20,height:Ti.UI.SIZE,layout:"horizontal",id:"rePropDtlInfoView"}),e.__views.rePropDeatilTmpl1Main.add(e.__views.rePropDtlInfoView),t.destroy=function(){},_.extend(e,e.__views),Ti.App.Properties.getObject("loginInfo",!1);var i=require("viewFile").viewFile,o=require("getData").property,r=arguments[0]||{},l=r.win,a={titleView:null,detailView:null,init:function(){this.genPropItemView(),this.setImage()},genPropItemView:function(){var t="c",i=o.getFieldList("propDetail",t),a=o.getDetail(r.propertyno,r.propgroup);e.rePropDtlAddr.text=a[t+"_premises"],e.rePropDtlAddr.setWidth(pToD(e.rePropDtlAddr.toImage().width)+10),e.rePropDtlAddr.setHeight(pToD(e.rePropDtlAddr.toImage().height));for(var n=0,s=0;1>s;s++)for(var d in i){if(-1==d.indexOf("empty")){var c=Ti.UI.createView({layout:"horizontal",width:i[d].width||"40%",height:Ti.UI.SIZE,bubbleParent:!1,left:"10dp"}),_=Ti.UI.createLabel({text:Alloy.Globals.getfieldTitle(d),font:{fontSize:16},top:"10dp",left:0,width:"80dp",color:"#176f5e"}),p=Ti.UI.createLabel({text:comjs.displayValue(i[d],a[i[d].field],d),font:{fontSize:16},top:"10dp",left:0,color:"#000"});if(("development"==Ti.App.deployType||"test"==Ti.App.deployType)&&(comjs.changeColor(_,l),comjs.changeColor(p,l)),c.add(_),c.add(p),i[d].tool)switch(i[d].tool){case"mortagageTool":var u={win:l,price:a[i[d].field]*(i[d].base||1)},h=tools.mortagageTool(u);c.add(h)}e.rePropDtlInfoView.add(c)}else{var c=Ti.UI.createView({layout:"horizontal",width:"40%",height:Ti.UI.SIZE,left:"10dp"}),p=Ti.UI.createLabel({text:"",font:{fontSize:16},top:"10dp",left:0,color:"#999"});c.add(p),e.rePropDtlInfoView.add(c)}n++}var w=Ti.UI.createView({width:"100%",height:"20",left:"10dp"});e.rePropDtlInfoView.add(w)},setImage:function(){var t=o.getImage(r.propertyno,r.propgroup);if(e.rePropDtlScrollImgView.setHeight(.45*(Alloy.Globals.DisplayHeight-Alloy.Globals.titleHeight-20)),t)for(var l=.4*(Alloy.Globals.DisplayHeight-Alloy.Globals.titleHeight-20),a=0;a<t.length;a++){var n=Ti.UI.createView({width:.38*(Alloy.Globals.DisplayHeight-20)+"dp",height:l+10+"dp",left:"20dp",top:"8dp",left:"10dp"});if(t[a]){var s=Ti.UI.createImageView({image:Ti.Utils.base64decode(t[a].image),focusable:!0});s.addEventListener("click",function(e){i("img",e.source.image)}),n.add(s)}e.rePropDtlScrollImgView.add(n)}}};a.init(),_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;