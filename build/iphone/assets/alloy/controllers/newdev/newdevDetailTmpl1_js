function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="newdev/newdevDetailTmpl1",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,t={};e.__views.newdevDeatilTmpl1Main=Ti.UI.createScrollView({layout:"vertical",showVerticalScrollIndicator:!1,showHorizontalScrollIndicator:!1,scrollType:"vertical",height:Ti.UI.FILL,width:"100%",contentWidth:"100%",id:"newdevDeatilTmpl1Main"}),e.__views.newdevDeatilTmpl1Main&&e.addTopLevelView(e.__views.newdevDeatilTmpl1Main),e.__views.newdevDtlAddrView=Ti.UI.createView({left:"20dp",top:"20dp",height:Ti.UI.SIZE,borderRadius:5,layout:"vertical",backgroundGradient:{type:"linear",colors:[{color:"#23aa90",offset:0},{color:"#21a088",offset:.45},{color:"#1b846f",offset:1}]},width:Ti.UI.SIZE,id:"newdevDtlAddrView"}),e.__views.newdevDeatilTmpl1Main.add(e.__views.newdevDtlAddrView),e.__views.newdevDtlAddr=Ti.UI.createLabel({color:"#efefef",left:"10dp",top:"5dp",height:22,bottom:10,font:{fontSize:20,fontWeight:"bold"},id:"newdevDtlAddr"}),e.__views.newdevDtlAddrView.add(e.__views.newdevDtlAddr),e.__views.newdevDtlScrollImgView=Ti.UI.createScrollView({showVerticalScrollIndicator:!1,showHorizontalScrollIndicator:!1,top:20,left:20,right:20,borderColor:"#CACACA",borderWidth:"1",borderRadius:5,backgroundGradient:{type:"linear",colors:[{color:"#EEEEEE",offset:0},{color:"#EEEEEE",offset:.45},{color:"#EEEEEE",offset:1}]},width:Ti.UI.FILL,height:"80%",contentWidth:"auto",contentHeight:"auto",layout:"horizontal",id:"newdevDtlScrollImgView"}),e.__views.newdevDeatilTmpl1Main.add(e.__views.newdevDtlScrollImgView),t.destroy=function(){},_.extend(e,e.__views),Ti.App.Properties.getObject("loginInfo",!1);var i=require("db").db,o=require("viewFile").viewFile,r=arguments[0]||{},a={titleView:null,detailView:null,init:function(){this.genPropItemView(),this.setImage()},genPropItemView:function(){var t=l.getPropInfo(r.newdevNo);e.newdevDtlAddr.text=t.chinesename,e.newdevDtlAddr.setWidth(pToD(e.newdevDtlAddr.toImage().width)+10)},setImage:function(){var t=l.getImage(r.newdevNo);if(t)for(var i=.7*(Alloy.Globals.DisplayHeight-Alloy.Globals.titleHeight-20),a=0;a<t.length;a++){var n=t[a].filename.split(".");n=n[n.length-1];var s=Ti.UI.createView({width:.58*(Alloy.Globals.DisplayHeight-20)+"dp",height:i+10,left:"20dp",top:"8dp",left:"10dp"}),d=a+".pdf",c=o(n,t[a],!0,{fileName:d});s.add(c),e.newdevDtlScrollImgView.add(s)}}},l={getPropInfo:function(e){var t="select * from newdev where number="+e,o=i.getObjResultSet(t);return o[0]||{}},getImage:function(e){var t="select attachment,filename from newdevfile where  newdevelopmentno="+e,o=i.getObjResultSet(t);return o||{}}};a.init(),_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;