function WPATH(e){var t=e.lastIndexOf("/"),i=-1===t?"nl.fokkezb.button/"+e:e.substring(0,t)+"/nl.fokkezb.button/"+e.substring(t+1);return i}function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(e){return m.has(e)?i(m.get(e)):!1}function t(){return E.style}function i(e){e=e||{},_.extend(E,e),E.style&&m.has(E.style)&&_.defaults(E,m.get(E.style)),!1===e.enabled?(g.outer.touchEnabled=!1,E.disabledStyle&&(E.enabledStyle=_.pick(E,_.keys(E.disabledStyle)),_.extend(E,E.disabledStyle))):(!0===e.enabled&&(g.outer.touchEnabled=!0,E.enabledStyle&&(_.extend(E,E.enabledStyle),delete E.enabledStyle)),E.activeStyle&&(E.defaultStyle=_.pick(E,_.keys(E.activeStyle)))),b?(f&&f.applyProperties(E),v&&v.applyProperties(E)):(b=!0,E.icon&&(f=I.createController("icon",E)),f&&"right"!==E.iconPosition&&g.inner.add(f.getView()),(E.title||E.titleid)&&(v=I.createController("title",E),g.inner.add(v.getView())),f&&"right"===E.iconPosition&&g.inner.add(f.getView())),p(E),u(E)}function o(e){return b&&v?(v.applyProperties({title:e}),!0):!1}function r(){return b&&v?v.getTitle():void 0}function l(e){return b&&v?(v.applyProperties({titleid:e}),!0):!1}function a(){return b&&v?v.getTitleid():void 0}function n(e,t){return b&&f?(f.setIcon(e,t),!0):!1}function s(){return b&&f?f.getIcon():void 0}function d(){g.outer.hide()}function c(){delete E.visible,g.outer.show()}function p(e){var t=_.pick(e,"width","height","top","right","bottom","left","center","backgroundColor","backgroundGradient","backgroundImage","backgroundLeftCap","backgroundTopCap","backgroundRepeat","borderColor","borderWidth","borderRadius","opacity","visible","bubbleParent");_.size(t)&&g.outer.applyProperties(t)}function u(e){var t={};if(e.padding)if("object"==typeof e.padding)if(_.isArray(e.padding)){var i=e.padding.length;1===i?(t.top=e.padding[0],t.right=t.right,t.bottom=t.bottom,t.left=t.left):2===i?(t.top=e.padding[0],t.right=e.padding[1],t.bottom=t.top,t.left=t.right):3===i?(t.top=e.padding[0],t.right=e.padding[1],t.bottom=e.padding[2],t.left=t.right):(t.top=e.padding[0],t.right=e.padding[1],t.bottom=e.padding[2],t.left=e.padding[3])}else _.extend(t,_.pick(e.padding,"top","right","bottom","left"));else t.top=e.padding,t.right=e.padding,t.bottom=e.padding,t.left=e.padding;_.size(t)&&g.inner.applyProperties(t)}function h(){E.activeStyle&&(v&&v.applyProperties(E.activeStyle),f&&f.applyProperties(E.activeStyle),p(E.activeStyle),u(E.activeStyle)),E.sound&&E.sound.play()}function w(e){E.defaultStyle&&(v&&v.applyProperties(E.defaultStyle),f&&f.applyProperties(E.defaultStyle),p(E.defaultStyle),u(E.defaultStyle)),"touchend"===e.type&&g.trigger("click",{type:"click",source:g})}var I=new(require("alloy/widget"))("nl.fokkezb.button");this.__widgetId="nl.fokkezb.button",require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="widget",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var g=this,y={},T={};g.__views.outer=Ti.UI.createView({width:Ti.UI.SIZE,height:Ti.UI.SIZE,id:"outer"}),g.__views.outer&&g.addTopLevelView(g.__views.outer),h?g.__views.outer.addEventListener("touchstart",h):T["$.__views.outer!touchstart!_onTouchstart"]=!0,w?g.__views.outer.addEventListener("touchcancel",w):T["$.__views.outer!touchcancel!_onTouchend"]=!0,w?g.__views.outer.addEventListener("touchend",w):T["$.__views.outer!touchend!_onTouchend"]=!0,g.__views.inner=Ti.UI.createView({width:Ti.UI.SIZE,height:Ti.UI.SIZE,layout:"horizontal",id:"inner"}),g.__views.outer.add(g.__views.inner),y.destroy=function(){},_.extend(g,g.__views);var f,v,m=require(WPATH("styles")),b=!1,E={};if(arguments[0]){var A=arguments[0];A.id&&(y.id=A.id,delete A.id),delete A.__parentSymbol,delete A.__itemTemplate,delete A.$model,void 0===A.style&&(A.style=m.getDefault()),i(arguments[0])}y.applyProperties=i,y.setStyle=e,y.getStyle=t,Object.defineProperty(g,"style",{get:t,set:e}),y.hide=d,y.show=c,y.setTitle=o,y.getTitle=r,Object.defineProperty(g,"title",{get:r,set:o}),y.setTitleid=l,y.getTitleid=a,Object.defineProperty(g,"titleid",{get:a,set:l}),y.setIcon=n,y.getIcon=s,Object.defineProperty(g,"icon",{get:s,set:n}),y.addEventListener=g.on,y.removeEventListener=g.off,y.fireEvent=g.trigger,T["$.__views.outer!touchstart!_onTouchstart"]&&g.__views.outer.addEventListener("touchstart",h),T["$.__views.outer!touchcancel!_onTouchend"]&&g.__views.outer.addEventListener("touchcancel",w),T["$.__views.outer!touchend!_onTouchend"]&&g.__views.outer.addEventListener("touchend",w),_.extend(g,y)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;